@using CodeTogether.Client.Services
@inherits LayoutComponentBase
@inject UserStateService user
@inject NavigationManager nav
@inject HttpClient http

<div class="page">
    <main>
        <div class="top-row px-4">
            <div class="top-row-left">
                <button class="btn btn-dark" @onclick="GoHome">Home</button>
            </div>
            <div class="top-row-right btn-group" role="group">
                <button class="btn btn-secondary" @onclick="GoQuestionEditor">Question Editor</button>
                <button class="btn btn-dark" @onclick="Logout">Logout</button>
            </div>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>

@code {
    void GoHome() => nav.NavigateTo("/");

    void GoQuestionEditor() => nav.NavigateTo("/questionEditor");

    async Task Logout()
    {
        await http.PostAsync("api/account/logout", null);
        nav.NavigateTo("/login");
    }
}
